flowchart TD
    subgraph VPC["VPC: 10.0.0.0/16"]
        direction LR

        subgraph AZ1["us-east-1a"]
            direction TB
            PUB1["Public Subnet A<br/>10.0.0.0/20"] --> NAT1["NAT Instance A<br/>t3.small + EIP"]
            PRIV1["Private Subnet A<br/>10.0.128.0/20"] --> RT1["Private Route Table A"]
            RT1 -->|0.0.0.0/0| NAT1
        end

        subgraph AZ2["us-east-1b"]
            direction TB
            PUB2["Public Subnet B<br/>10.0.16.0/20"] --> NAT2["NAT Instance B<br/>t3.small + EIP"]
            PRIV2["Private Subnet B<br/>10.0.144.0/20"] --> RT2["Private Route Table B"]
            RT2 -->|0.0.0.0/0| NAT2
        end

        IGW["Internet Gateway"]
        NAT1 -->|Egress| IGW
        NAT2 -->|Egress| IGW
    end

    note right of NAT1
        "Security Group"
        "- ingress from private CIDRs"
        "- outbound any"
    end

    note right of IGW
        "Elastic IPs ensure stable outbound IPs"
    end
